<template>
  <div>{{ message }}</div>
  <button @click="start">Start</button>
</template>

<script setup lang="ts">
import { CveControl } from '@cve-ts/controls'
import { ref } from 'vue'

interface UIDescriptor {
  [x: string]: unknown;
  Command?: string;
  Console?: string;
  Data?: unknown;
  UID?: string;
}

const control = new CveControl()

const message = ref('hello, world')

const start = () => {
  const descriptor: UIDescriptor = {
    Command: 'GetPosition',
    Data: Date.now(),
  }
  const callback: CveCallback = (res) => {
    message.value = JSON.stringify(res)
  }
  control.sendCommand(descriptor, callback)
}
</script>

<style>
cve-player {
  height: 100vh;
  width: 100vw;
}
</style>
